let socket;
let lastEventKey = "";
 // –≤–º–µ—Å—Ç–æ lastMessage 
function connectWS() 
    { socket = new WebSocket("ws://localhost:8765"); 
    socket.addEventListener("open", () => console.log("üîå WebSocket –æ—Ç–∫—Ä—ã—Ç")); 
    socket.addEventListener("close", () => setTimeout(connectWS, 2000)); 
    socket.addEventListener("error", (err) => console.error("‚ùå –û—à–∏–±–∫–∞ WS:", err)); 
    }
    connectWS();
    setInterval(() => { 
        const donations = document.querySelectorAll("li.js-systemCommentLine"); 
        if (donations.length > 0) { 
        const last = donations[donations.length - 1].innerText.trim(); // –ø—Ä–æ–≤–µ—Ä—è–µ–º —Ç–æ–ª—å–∫–æ –Ω–∞ —Å–ª–æ–≤–æ "–ø–æ–¥–∞—Ä–∏–ª" if (/–ø–æ–¥–∞—Ä–∏–ª/i.test(last)) { // —Ñ–æ—Ä–º–∏—Ä—É–µ–º —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–ª—é—á —Å–æ–±—ã—Ç–∏—è: user_id + —Ç–µ–∫—Å—Ç const idMatch = last.match(/\b([0-9a-f]{32})\b/i); const userId = idMatch ? idMatch[1] : null; const eventKey = (userId || "") + "|" + last; if (eventKey !== lastEventKey) { lastEventKey = eventKey; let name = null; let amount = null; const nameMatch = last.match(/^(.+?)\s+–ø–æ–¥–∞—Ä–∏–ª/i); if (nameMatch) name = nameMatch[1].trim(); const amountMatch = last.match(/–ø–æ–¥–∞—Ä–∏–ª\s+(\d+)/i); if (amountMatch) amount = parseInt(amountMatch[1], 10); const gifts = { "–ö–æ–Ω—Ñ–µ—Ç–∞":10, "–°–µ—Ä–¥—Ü–µ":10, "–ü–æ—Ü–µ–ª—É–π":100, "–§–µ–π–µ—Ä–≤–µ—Ä–∫":1000, "–®–∞–º–ø–∞–Ω—Å–∫–æ–µ":10000 }; for (let gift in gifts) { if (last.toLowerCase().includes(gift.toLowerCase())) amount = gifts[gift]; } // fallback: –µ—Å–ª–∏ –ø–æ–¥–∞—Ä–æ–∫ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π ‚Üí amount = 1 if (amount === null) amount = 1; if (socket && socket.readyState === WebSocket.OPEN) { socket.send(JSON.stringify({ text: last, name: name, user_id: userId, amount: amount })); console.log("üì§ –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ WebSocket:", { name, userId, amount, text: last }); } } } } }, 3000);
        ?? ‰∏äÁ¥ö„É¨„Éô„É´
1500„Éù„Ç§„É≥„Éà ‚Üí ÁâπÂà•„Å´ÂêçÂâç„ÇíÂëº„Çì„Åß„ÅÇ„Åí„Çã‚ô° 
2000„Éù„Ç§„É≥„Éà ‚Üí „ÄåÁßòÂØÜ„ÅÆË®ÄËëâ„Äç„Éó„É¨„Çº„É≥„Éà ??

?? VIP„É¨„Éô„É´ (VIP‚Äë—É—Ä–æ–≤–µ–Ω—å)

3000+„Éù„Ç§„É≥„Éà ‚Üí VIP„ÅÇ„Çä„Åå„Å®„ÅÜ„É°„ÉÉ„Çª„Éº„Ç∏ + „Éà„ÉÉ„Éó„Éâ„Éç„Éº„Çø„Éº„É™„Çπ„Éà„Å´Êé≤Ëºâ

5000+„Éù„Ç§„É≥„Éà ‚Üí ‰Ωì„Å´„ÅÇ„Å™„Åü„ÅÆÂêçÂâç„ÇíÊõ∏„ÅÑ„Å°„ÇÉ„ÅÜ‚Ä¶??


–º–Ω–µ –∫–∞–∂–µ—Ç—Å—è —á—Ç–æ –º–æ—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ö–æ—Ä–æ—à–∞—è.
 —è –±—ã —Ö–æ—Ç–µ–ª–∞ –ø–æ–¥–µ–ª–∏—Ç—Å—è –µ–π —Å –º–æ–µ–π –ø–æ–¥—Ä—É–≥–æ–π –∫–æ—Ç–æ—Ä–∞—è —Ç–æ–∂–µ —Å—Ç—Ä–∏–º–∏—Ç –Ω–∞ fc2 live.
  –Ω–æ —É –Ω–µ–µ –Ω–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –Ω–µ–≥—Ä–æ–∫–æ–º 
  –¥–∞ –∏ —è —É–∂–µ –ø–æ–¥–∑–∞–±—ã–ª–∞ —á—Ç–æ –Ω—É–∂–Ω–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å —á—Ç–æ–± 
  –ø—Ä–æ–≥—Ä–∞–º–∞ —Ä–∞–±–æ—Ç–∞–ª–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ. –º–æ–∂–Ω–æ –ª–∏ –∫—É–ø–∏—Ç—å —Å–µ—Ä–≤–µ—Ä 
  –¥–ª—è –Ω–∞—Å –¥–≤–æ–∏—Ö –≤–º–µ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è ngrok. –∏ –º–æ–∂–Ω–æ –ª–∏
   —Å–¥–µ–ª–∞—Ç—å –º–æ—é –ø—Ä–æ–≥—Ä–∞–º–º–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –µ–π